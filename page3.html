<!DOCTYPE html>
<html lang="en">
<head>
    <title>The Mirror Of Erised</title>
    <link rel="stylesheet" href="style.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

      <!-- 引入 UnifrakturMaguntia 字体 -->
      <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet">

    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background-image: url('p3-1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            overflow: hidden;
        }

        header {
            text-align: center;
            padding: 40px;
        }

        /* 通用动画文本样式 */
        .animated-text {
            font-family: 'UnifrakturMaguntia', cursive;
            color: #fff;
            position: relative;
            text-align: center;
            display: inline-block;
        }

        /* 每个字母的动画 */
        .animated-text span {
            display: inline-block;
            opacity: 0.2;
            animation: fade-in-out 8s infinite;
        }

        /* 逐字淡入淡出动画 */
        @keyframes fade-in-out {
            0% { opacity: 0.2; }
            20% { opacity: 1; }
            40% { opacity: 0.5; }
            60% { opacity: 1; }
            80% { opacity: 0.5; }
            100% { opacity: 0.2; }
        }

        /* 为每个字母设置不同的动画延迟 */
        .animated-text span:nth-child(1) { animation-delay: 0s; }
        .animated-text span:nth-child(2) { animation-delay: 0.5s; }
        .animated-text span:nth-child(3) { animation-delay: 1s; }
        .animated-text span:nth-child(4) { animation-delay: 1.5s; }
        .animated-text span:nth-child(5) { animation-delay: 2s; }
        .animated-text span:nth-child(6) { animation-delay: 2.5s; }
        .animated-text span:nth-child(7) { animation-delay: 3s; }
        .animated-text span:nth-child(8) { animation-delay: 3.5s; }
        .animated-text span:nth-child(9) { animation-delay: 4s; }

        /* 设置 h1 和 h2 的具体样式 */
        h1.animated-text 
        { 
            font-size: 5vw; 
            top: -40px; 
        }

        h2.animated-text {
            font-size: 2vw;
            color: #f7f6ef;
            position: absolute;
            left: 50%;
            bottom: 7%; /* 调整此值可以进一步上下移动 h2 */
            transform: translateX(-50%);
        }


 /* 烟雾层 */
 .smoke {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        /* 创建不同形状的烟雾层 */
        .smoke .layer {
            position: absolute;
            top: 0;
            left: 0;
            background: rgba(255, 255, 255, 0.3);
            animation: smoke-animation 20s infinite;
            pointer-events: none;
            filter: blur(40px);
            opacity: 0.5;
            transform-origin: center;
        }

        /* 不同烟雾层 */
        .layer:nth-child(1) {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            animation-duration: 25s;
            animation-delay: 0s;
            opacity: 0.6;
            top: 20%;
            left: 10%;
        }

        .layer:nth-child(2) {
            width: 200px;
            height: 400px;
            border-radius: 50%;
            animation-duration: 30s;
            animation-delay: 3s;
            opacity: 0.4;
            top: 50%;
            left: 40%;
        }

        .layer:nth-child(3) {
            width: 400px;
            height: 250px;
            border-radius: 30%;
            animation-duration: 35s;
            animation-delay: 5s;
            opacity: 0.3;
            top: 60%;
            left: 70%;
        }

        .layer:nth-child(4) {
            width: 350px;
            height: 350px;
            border-radius: 50%;
            animation-duration: 40s;
            animation-delay: 10s;
            opacity: 0.2;
            top: 30%;
            left: 80%;
        }

        .layer:nth-child(5) {
            width: 300px;
            height: 200px;
            border-radius: 40%;
            animation-duration: 28s;
            animation-delay: 7s;
            opacity: 0.7;
            top: 10%;
            left: 60%;
        }

        .layer:nth-child(6) {
            width: 500px;
            height: 150px;
            border-radius: 40%;
            animation-duration: 22s;
            animation-delay: 15s;
            opacity: 0.4;
            top: 75%;
            left: 30%;
        }

        /* 烟雾粒子的动画效果 */
        @keyframes smoke-animation {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0.5;
            }
            30% {
                transform: translate(150px, -150px) rotate(15deg) scale(1.2);
                opacity: 0.3;
            }
            60% {
                transform: translate(-100px, -300px) rotate(-20deg) scale(1.5);
                opacity: 0.1;
            }
            100% {
                transform: translate(-500px, -600px) rotate(0deg) scale(2);
                opacity: 0;
            }
        }





        /* 闪电微光特效 */
        .lightning {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;  /* 限制闪电在上半部分显示 */
            pointer-events: none;
            z-index: 2;
            opacity: 0;
        }

        /* 创建多个闪电效果的光层 */
        .lightning .flash {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: rgba(255, 255, 255, 0.9);
            animation: lightning-flash 1s infinite;
            opacity: 0;
        }

        /* 闪电的动画效果，突明突暗的效果 */
        @keyframes lightning-flash {
            0% {
                opacity: 0;
            }
            5% {
                opacity: 1;
                background: rgba(255, 255, 255, 1);
            }
            10% {
                opacity: 0;
            }
            15% {
                opacity: 1;
                background: rgba(255, 255, 255, 1);
            }
            30% {
                opacity: 0;
            }
            50% {
                opacity: 1;
                background: rgba(255, 255, 255, 1);
            }
            100% {
                opacity: 0;
            }
        }

        /* 添加多个闪电层，模拟闪电随机出现 */
        .lightning .flash:nth-child(2) {
            animation-delay: 2s;
        }

        .lightning .flash:nth-child(3) {
            animation-delay: 4s;
        }

        .lightning .flash:nth-child(4) {
            animation-delay: 6s;
        }

        .lightning .flash:nth-child(5) {
            animation-delay: 8s;
        }







            /* 添加鼠标悬停效果 */
            a img {
            position: relative;
            top: -180px;
            width: 100%;
            display: block;
            margin: 0 auto;
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        /* 鼠标悬停时的效果：放大并变亮 */
        a img:hover {
            transform: scale(1.05);
            filter: brightness(1.6);
        }

   
     </style>
</head>








<body>

    <header>
        <h1 class="animated-text">
            <span>T</span><span>h</span><span>e</span> 
            <span>M</span><span>i</span><span>r</span><span>r</span><span>o</span><span>r</span> 
            <span>O</span><span>f</span> 
            <span>E</span><span>r</span><span>i</span><span>s</span><span>e</span><span>d</span>
        </h1>
        <h2 class="animated-text">
            <span>w</span><span>i</span><span>z</span><span>a</span><span>r</span><span>d</span>
        </h2>
    </header>

    <a href="page4.html">
        <img src="p3-2.png" style="
        position: relative; top: -140px; 
        width: 100%; 
        display: block; 
        margin: 0 auto;">
    </a>
 




 <!-- 烟雾层 -->
 <div class="smoke">
    <!-- 创建多个烟雾层 -->
    <div class="layer"></div>
    <div class="layer"></div>
    <div class="layer"></div>
    <div class="layer"></div>
    <div class="layer"></div>
    <div class="layer"></div>
</div>


    <!-- 闪电微光特效 -->
    <div class="lightning">
        <!-- 创建多个闪电的光层 -->
        <div class="flash"></div>
        <div class="flash"></div>
        <div class="flash"></div>
        <div class="flash"></div>
        <div class="flash"></div>
    </div>

















    <!-- 隐藏音频播放器 -->
    <audio id="background-music" src="assets/music.m4a" loop></audio>

    <script>
        const music = document.getElementById("background-music");

        // 页面加载时尝试从上次保存的位置播放
        window.addEventListener("load", () => {
            // 从 localStorage 中获取上次播放位置
            const lastPlayTime = localStorage.getItem("musicPlayTime");

            // 如果有上次播放时间，将音频设置到此时间开始播放
            if (lastPlayTime) {
                music.currentTime = parseFloat(lastPlayTime);
            }

            // 尝试自动播放音乐
            const playPromise = music.play();
            
            // 如果自动播放被阻止，则等待用户点击页面
            if (playPromise !== undefined) {
                playPromise.catch(() => {
                    console.log("Autoplay was prevented. Waiting for user interaction.");
                    document.body.addEventListener("click", playAudio);
                });
            }
        });

        // 每秒更新当前播放时间到 localStorage
        setInterval(() => {
            localStorage.setItem("musicPlayTime", music.currentTime);
        }, 1000); // 每隔1秒更新一次

        // 在用户点击页面时播放音乐
        function playAudio() {
            music.play();
            document.body.removeEventListener("click", playAudio);
        }
    </script>

</body>
</html>
